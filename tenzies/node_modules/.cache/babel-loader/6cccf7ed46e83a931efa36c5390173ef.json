{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kotha Yashwanth\\\\Documents\\\\Visual Studio\\\\React\\\\tenzies\\\\src\\\\App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport Die from \"./Die\";\nimport { nanoid } from \"nanoid\";\nimport Confetti from \"react-confetti\";\nexport default function App() {\n  React.useEffect(() => {\n    localStorage.setItem('leastRolls', JSON.stringify(0));\n    console.log('Hi');\n  }, []);\n  const [dice, setDice] = React.useState(allNewDice());\n  const [tenzie, setTenzie] = React.useState(false);\n  const [rolls, setRolls] = React.useState(0);\n  const [leastRolls, setLeastRolls] = React.useState(() => JSON.parse(localStorage.getItem(\"leastRolls\")));\n  React.useEffect(() => {\n    localStorage.setItem('leastRolls', JSON.stringify(leastRolls));\n  }, [leastRolls]);\n\n  //const leastScore = localStorage.getItem('leastRolls')\n\n  React.useEffect(() => {\n    const allHeld = dice.every(die => die.isHeld);\n    const value = dice[0].value;\n    const allSame = dice.every(die => die.value === value);\n    if (allHeld) {\n      if (!allSame) {\n        alert(\"Please, check the dice\");\n      }\n    }\n    if (allHeld && allSame) {\n      setTenzie(true);\n      setLeastRolls(leastRoll => {\n        const least = JSON.parse(localStorage.getItem(\"leastRolls\"));\n        if (rolls < least) return Number.isInteger(rolls) ? rolls : 0;\n      });\n    }\n  }, [dice, rolls]);\n  function generateNewDie() {\n    return {\n      value: Math.ceil(Math.random() * 6),\n      isHeld: false,\n      id: nanoid()\n    };\n  }\n  function allNewDice() {\n    const arr = [];\n    for (let i = 0; i < 10; i++) {\n      arr.push(generateNewDie());\n    }\n    return arr;\n  }\n  function rollDice() {\n    if (!tenzie) {\n      setRolls(rolls + 1);\n      setDice(oldDice => oldDice.map(die => {\n        return die.isHeld ? die : generateNewDie();\n      }));\n    } else {\n      setTenzie(false);\n      setDice(allNewDice);\n      setRolls(0);\n    }\n  }\n  function holdDice(id) {\n    setDice(oldDice => oldDice.map(die => {\n      return die.id === id ? {\n        ...die,\n        isHeld: !die.isHeld\n      } : die;\n    }));\n  }\n  const diceValues = dice.map(val => {\n    return /*#__PURE__*/React.createElement(Die, {\n      value: val.value,\n      key: val.id,\n      isHeld: val.isHeld,\n      holdDice: () => holdDice(val.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 12\n      }\n    });\n  });\n  const styles = {\n    backgroundColor: tenzie ? \"Green\" : \"red\",\n    color: tenzie ? \"white\" : \"black\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, tenzie && /*#__PURE__*/React.createElement(Confetti, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"game-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"Tenzies\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, \"Roll until all dice are the same. Click each die to freeze it at its current value between rolls.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dice-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, diceValues), /*#__PURE__*/React.createElement(\"button\", {\n    style: styles,\n    onClick: rollDice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, tenzie ? \"New Game\" : \" Roll \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"score\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"rolls\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, \"Number of Rolls: \", rolls), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"leastRolls\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, \"Least number of rolls: \", leastRolls))));\n}","map":{"version":3,"names":["React","Die","nanoid","Confetti","App","useEffect","localStorage","setItem","JSON","stringify","console","log","dice","setDice","useState","allNewDice","tenzie","setTenzie","rolls","setRolls","leastRolls","setLeastRolls","parse","getItem","allHeld","every","die","isHeld","value","allSame","alert","leastRoll","least","Number","isInteger","generateNewDie","Math","ceil","random","id","arr","i","push","rollDice","oldDice","map","holdDice","diceValues","val","createElement","key","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","styles","backgroundColor","color","className","style","onClick"],"sources":["C:/Users/Kotha Yashwanth/Documents/Visual Studio/React/tenzies/src/App.js"],"sourcesContent":["import React from \"react\"\nimport \"./App.css\"\nimport Die from \"./Die\"\nimport {nanoid} from \"nanoid\"\nimport Confetti from \"react-confetti\"\n\nexport default function App(){\n  React.useEffect(()=>{\n  localStorage.setItem('leastRolls',JSON.stringify(0))\n  console.log('Hi')},[])\n\n  const [dice, setDice] = React.useState(allNewDice())\n  const [tenzie, setTenzie] = React.useState(false)\n  const [rolls, setRolls] = React.useState(0)\n  const [leastRolls, setLeastRolls] = React.useState(()=> JSON.parse(localStorage.getItem(\"leastRolls\")))\n \n \n  React.useEffect(()=> {\n    localStorage.setItem('leastRolls', JSON.stringify(leastRolls))\n  }, [leastRolls])\n  \n  \n   //const leastScore = localStorage.getItem('leastRolls')\n\n  React.useEffect(() => {\n    const allHeld = dice.every(die => die.isHeld)\n    const value = dice[0].value\n    const allSame = dice.every(die => die.value === value)\n    if(allHeld){\n      if(!allSame){\n        alert(\"Please, check the dice\")\n      }\n    }\n    if(allHeld && allSame){\n    setTenzie(true)\n    setLeastRolls((leastRoll)=>{\n      const least = JSON.parse(localStorage.getItem(\"leastRolls\"))\n      if(rolls<least)\n      return Number.isInteger(rolls) ? rolls : 0\n     })\n    }\n  },[dice,rolls])\n\n\n  function generateNewDie() {\n    return {\n      value : Math.ceil(Math.random()*6 ), \n      isHeld: false,\n      id: nanoid()\n    }\n  }\n \n \n  function allNewDice(){\n  const arr = []\n  for(let i=0;i<10;i++){\n    arr.push(generateNewDie())\n  }\n  return arr\n}\n\n\n  function rollDice(){\n    if(!tenzie){\n      setRolls(rolls+1)\n      setDice(oldDice => oldDice.map(die => {\n      return die.isHeld?\n        die :\n        generateNewDie()\n    }))\n    }else{\n      setTenzie(false)\n      setDice(allNewDice)\n      setRolls(0)\n    }\n  }\n\n  function holdDice(id){\n    setDice(oldDice => oldDice.map(die =>{\n      return die.id === id ? \n      {...die, isHeld: !die.isHeld} : \n      die\n    }))\n  }\n\n  const diceValues = dice.map((val)=>{\n    return <Die value={val.value} key = {val.id} isHeld = {val.isHeld} holdDice = {() => holdDice(val.id)}/>\n  })\n  const styles = {\n    backgroundColor : tenzie ? \"Green\" : \"red\",\n    color: tenzie ? \"white\" : \"black\"\n  }\n\n  return (\n    <div className=\"container\">\n      <main className=\"main\">\n       {tenzie && <Confetti />}\n        <div className=\"game-info\">\n        <h1>Tenzies</h1>\n        <p>Roll until all dice are the same. Click\n          each die to freeze it at its current value between rolls.\n        </p>\n        </div>\n        <div className=\"dice-container\">\n            {diceValues}\n          </div>\n          <button style={styles} onClick={rollDice}>{tenzie ? \"New Game\" : \" Roll \"}</button>\n          <div className=\"score\">\n          <h3 className=\"rolls\">Number of Rolls: {rolls}</h3>\n          <h3 className=\"leastRolls\">Least number of rolls: {leastRolls}</h3>\n          </div>\n      </main>\n    </div>\n  )\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW;AAClB,OAAOC,GAAG,MAAM,OAAO;AACvB,SAAQC,MAAM,QAAO,QAAQ;AAC7B,OAAOC,QAAQ,MAAM,gBAAgB;AAErC,eAAe,SAASC,GAAGA,CAAA,EAAE;EAC3BJ,KAAK,CAACK,SAAS,CAAC,MAAI;IACpBC,YAAY,CAACC,OAAO,CAAC,YAAY,EAACC,IAAI,CAACC,SAAS,CAAC,CAAC,CAAC,CAAC;IACpDC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;EAAA,CAAC,EAAC,EAAE,CAAC;EAEtB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,KAAK,CAACc,QAAQ,CAACC,UAAU,CAAC,CAAC,CAAC;EACpD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGjB,KAAK,CAACc,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,KAAK,CAACc,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACM,UAAU,EAAEC,aAAa,CAAC,GAAGrB,KAAK,CAACc,QAAQ,CAAC,MAAKN,IAAI,CAACc,KAAK,CAAChB,YAAY,CAACiB,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;EAGvGvB,KAAK,CAACK,SAAS,CAAC,MAAK;IACnBC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEC,IAAI,CAACC,SAAS,CAACW,UAAU,CAAC,CAAC;EAChE,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;;EAGf;;EAEDpB,KAAK,CAACK,SAAS,CAAC,MAAM;IACpB,MAAMmB,OAAO,GAAGZ,IAAI,CAACa,KAAK,CAACC,GAAG,IAAIA,GAAG,CAACC,MAAM,CAAC;IAC7C,MAAMC,KAAK,GAAGhB,IAAI,CAAC,CAAC,CAAC,CAACgB,KAAK;IAC3B,MAAMC,OAAO,GAAGjB,IAAI,CAACa,KAAK,CAACC,GAAG,IAAIA,GAAG,CAACE,KAAK,KAAKA,KAAK,CAAC;IACtD,IAAGJ,OAAO,EAAC;MACT,IAAG,CAACK,OAAO,EAAC;QACVC,KAAK,CAAC,wBAAwB,CAAC;MACjC;IACF;IACA,IAAGN,OAAO,IAAIK,OAAO,EAAC;MACtBZ,SAAS,CAAC,IAAI,CAAC;MACfI,aAAa,CAAEU,SAAS,IAAG;QACzB,MAAMC,KAAK,GAAGxB,IAAI,CAACc,KAAK,CAAChB,YAAY,CAACiB,OAAO,CAAC,YAAY,CAAC,CAAC;QAC5D,IAAGL,KAAK,GAACc,KAAK,EACd,OAAOC,MAAM,CAACC,SAAS,CAAChB,KAAK,CAAC,GAAGA,KAAK,GAAG,CAAC;MAC3C,CAAC,CAAC;IACH;EACF,CAAC,EAAC,CAACN,IAAI,EAACM,KAAK,CAAC,CAAC;EAGf,SAASiB,cAAcA,CAAA,EAAG;IACxB,OAAO;MACLP,KAAK,EAAGQ,IAAI,CAACC,IAAI,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAC,CAAE,CAAC;MACnCX,MAAM,EAAE,KAAK;MACbY,EAAE,EAAErC,MAAM,CAAC;IACb,CAAC;EACH;EAGA,SAASa,UAAUA,CAAA,EAAE;IACrB,MAAMyB,GAAG,GAAG,EAAE;IACd,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,EAAE,EAACA,CAAC,EAAE,EAAC;MACnBD,GAAG,CAACE,IAAI,CAACP,cAAc,CAAC,CAAC,CAAC;IAC5B;IACA,OAAOK,GAAG;EACZ;EAGE,SAASG,QAAQA,CAAA,EAAE;IACjB,IAAG,CAAC3B,MAAM,EAAC;MACTG,QAAQ,CAACD,KAAK,GAAC,CAAC,CAAC;MACjBL,OAAO,CAAC+B,OAAO,IAAIA,OAAO,CAACC,GAAG,CAACnB,GAAG,IAAI;QACtC,OAAOA,GAAG,CAACC,MAAM,GACfD,GAAG,GACHS,cAAc,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC;IACH,CAAC,MAAI;MACHlB,SAAS,CAAC,KAAK,CAAC;MAChBJ,OAAO,CAACE,UAAU,CAAC;MACnBI,QAAQ,CAAC,CAAC,CAAC;IACb;EACF;EAEA,SAAS2B,QAAQA,CAACP,EAAE,EAAC;IACnB1B,OAAO,CAAC+B,OAAO,IAAIA,OAAO,CAACC,GAAG,CAACnB,GAAG,IAAG;MACnC,OAAOA,GAAG,CAACa,EAAE,KAAKA,EAAE,GACpB;QAAC,GAAGb,GAAG;QAAEC,MAAM,EAAE,CAACD,GAAG,CAACC;MAAM,CAAC,GAC7BD,GAAG;IACL,CAAC,CAAC,CAAC;EACL;EAEA,MAAMqB,UAAU,GAAGnC,IAAI,CAACiC,GAAG,CAAEG,GAAG,IAAG;IACjC,oBAAOhD,KAAA,CAAAiD,aAAA,CAAChD,GAAG;MAAC2B,KAAK,EAAEoB,GAAG,CAACpB,KAAM;MAACsB,GAAG,EAAIF,GAAG,CAACT,EAAG;MAACZ,MAAM,EAAIqB,GAAG,CAACrB,MAAO;MAACmB,QAAQ,EAAIA,CAAA,KAAMA,QAAQ,CAACE,GAAG,CAACT,EAAE,CAAE;MAAAY,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAC,CAAC;EAC1G,CAAC,CAAC;EACF,MAAMC,MAAM,GAAG;IACbC,eAAe,EAAG1C,MAAM,GAAG,OAAO,GAAG,KAAK;IAC1C2C,KAAK,EAAE3C,MAAM,GAAG,OAAO,GAAG;EAC5B,CAAC;EAED,oBACEhB,KAAA,CAAAiD,aAAA;IAAKW,SAAS,EAAC,WAAW;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxBxD,KAAA,CAAAiD,aAAA;IAAMW,SAAS,EAAC,MAAM;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACpBxC,MAAM,iBAAIhB,KAAA,CAAAiD,aAAA,CAAC9C,QAAQ;IAAAgD,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACtBxD,KAAA,CAAAiD,aAAA;IAAKW,SAAS,EAAC,WAAW;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1BxD,KAAA,CAAAiD,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,SAAW,CAAC,eAChBxD,KAAA,CAAAiD,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,mGAEA,CACE,CAAC,eACNxD,KAAA,CAAAiD,aAAA;IAAKW,SAAS,EAAC,gBAAgB;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC1BT,UACE,CAAC,eACN/C,KAAA,CAAAiD,aAAA;IAAQY,KAAK,EAAEJ,MAAO;IAACK,OAAO,EAAEnB,QAAS;IAAAQ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAExC,MAAM,GAAG,UAAU,GAAG,QAAiB,CAAC,eACnFhB,KAAA,CAAAiD,aAAA;IAAKW,SAAS,EAAC,OAAO;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtBxD,KAAA,CAAAiD,aAAA;IAAIW,SAAS,EAAC,OAAO;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,mBAAiB,EAACtC,KAAU,CAAC,eACnDlB,KAAA,CAAAiD,aAAA;IAAIW,SAAS,EAAC,YAAY;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,yBAAuB,EAACpC,UAAe,CAC7D,CACH,CACH,CAAC;AAEV","ignoreList":[]},"metadata":{},"sourceType":"module"}